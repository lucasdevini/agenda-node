<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>Agendamentos feitos hoje - {{formattedDate}}</h2>
    <ul>
        {{#todayList}}
            <li>Nome: {{name}} <br/> E-mail: {{email}}</li> <br/>
        {{/todayList}}
        {{^todayList}}
            <p>Nenhum registro foi encontrado</p>
        {{/todayList}}
    </ul>

    <h2>Próximos dias</h2>
    <ul>
        {{#list}}
            <li>
                <fieldset>
                    E-mail: {{email}} - Data: {{date}} - id {{id}}
                    <form id="accept-form" action="/pending-schedules" method="post">
                        <input type="hidden" name="id" value="{{id}}">
                        <input type="hidden" name="email" value="{{email}}">
                        <input type="hidden" name="status" value="accept">
                        <input type='submit' value='aceitar'>
                    </form> 

                    <br/>

                    <form id="refuse-form" action="/pending-schedules" method="post">
                        <input type="hidden" name="id" value="{{id}}">
                        <input type="hidden" name="email" value="{{email}}">
                        <input type="hidden" name="status" value="refuse">
                        <input type='submit' value='recusar'>
                    </form>
                </fieldset>
            </li> <br/>
        {{/list}}
        {{^list}}
            <p>Nenhum registro foi encontrado</p>
        {{/list}}
    </ul>

    <hr/>
    <h2>Pesquise por uma data:</h2>
    
    <form action="/search-pending" method="get">
        <input type="date" name="search" id='search-date'>
        <input type="submit" value="pesquisar">
    </form>
    
    <script>
        // Obtém a referência ao elemento do input de data
        const inputData = document.getElementById('search-date');

        // Obtém a data atual no formato "YYYY-MM-DD" e atribui ao atributo min do input de data
        const dataAtual = new Date().toISOString().split('T')[0];
        inputData.min = dataAtual;
    </script>
</body>
</html>